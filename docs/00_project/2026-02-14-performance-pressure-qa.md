# 2026-02-14 성능 압박 면접 Q&A (반박형)

아래 문서는 "깊게 파고드는 면접"에서 자주 나오는 반박형 질문에 대비하기 위한 템플릿입니다.
각 항목마다 실수하기 쉬운 답변(피해야 할 답변)과 좋은 답변(권장 답변)을 함께 정리했습니다.

## Q1. "측정값이 너무 작습니다. 15ms, 4ms가 의미 있나요?"

- 실수하기 쉬운 답변:
  그래도 빨라졌으니까 의미 있습니다.
- 좋은 답변:
  절대값보다 "동일 조건에서의 상대 개선"을 먼저 봤습니다.
  특히 Notepad는 쿼리 수가 22 -> 4로 줄어 구조적 개선이 명확합니다.
  다음 단계로는 k6로 동시성 부하를 주고 p95/p99까지 확장 검증할 계획입니다.

## Q2. "테스트 DB가 H2인데 MySQL 성능을 대표할 수 있나요?"

- 실수하기 쉬운 답변:
  크게 다르지 않을 것 같습니다.
- 좋은 답변:
  맞습니다. H2 수치는 절대 성능 지표라기보다 회귀 감지용입니다.
  그래서 MySQL에서 EXPLAIN 전/후를 별도로 확인했고,
  실행계획이 ALL/filesort에서 ref/range로 바뀐 점을 근거로 제시했습니다.

## Q3. "캐시를 먼저 쓰면 더 빨랐을 텐데 왜 안 했나요?"

- 실수하기 쉬운 답변:
  캐시는 복잡해서 미뤘습니다.
- 좋은 답변:
  캐시는 증상 완화이고, N+1은 원인 제거라 우선순위를 원인 해결에 뒀습니다.
  기본 비용을 낮춘 뒤 캐시를 붙여야 캐시 미스 상황에서도 성능이 안정적입니다.

## Q4. "인덱스 많이 추가하면 쓰기 성능 떨어지는데 괜찮나요?"

- 실수하기 쉬운 답변:
  지금은 괜찮아서 문제 없습니다.
- 좋은 답변:
  맞습니다. 인덱스는 쓰기/저장공간 비용이 증가합니다.
  이 프로젝트는 조회 중심 트래픽이라 read 최적화를 우선했고,
  이후 slow query log 기준으로 인덱스 효율을 주기적으로 재평가할 계획입니다.

## Q5. "쿼리 수만 줄였지 실제 사용자 경험은 개선됐나요?"

- 실수하기 쉬운 답변:
  쿼리 수가 줄면 당연히 좋아집니다.
- 좋은 답변:
  쿼리 수만 보지 않고 elapsed time도 같이 측정했습니다.
  Notepad는 15ms -> 4ms, Dashboard는 14ms -> 2ms로 개선됐고,
  다음 단계는 프론트 체감 지표(TTFB, 페이지 전환 시간)까지 연결할 예정입니다.

## Q6. "Redis refresh 키를 email 단일 키로 바꾼 근거가 약하지 않나요?"

- 실수하기 쉬운 답변:
  코드가 단순해져서요.
- 좋은 답변:
  핵심은 패턴 검색 제거입니다.
  `refresh:{email}`로 조회/삭제를 O(1)로 만들어 운영 중 키 스캔 리스크를 낮췄고,
  토큰 일치 검증까지 추가해 안전성도 강화했습니다.

## Q7. "왜 QueryDSL로 다시 안 짰나요?"

- 실수하기 쉬운 답변:
  시간이 없었습니다.
- 좋은 답변:
  이번 개선의 목표는 "최소 변경으로 병목 제거"였습니다.
  기존 리포지토리 구조를 유지하면서 집계 쿼리와 인덱스로 우선 개선했고,
  검색 조건이 더 복잡해질 때 QueryDSL custom repository로 확장할 계획입니다.

## Q8. "통계 API 쿼리 13 -> 10은 개선 폭이 작지 않나요?"

- 실수하기 쉬운 답변:
  그래도 줄었으니까 괜찮습니다.
- 좋은 답변:
  쿼리 수 감소도 중요하지만, 계산 경로 단순화로 응답 시간이 14ms -> 2ms로 줄었습니다.
  또한 집계 경로를 DB 중심으로 정리해 데이터 증가 시 확장성이 좋아졌다는 점이 핵심입니다.

## Q9. "성능 개선이 기능 안정성을 깨뜨릴 위험은 없었나요?"

- 실수하기 쉬운 답변:
  특별한 문제는 없었습니다.
- 좋은 답변:
  회귀를 막기 위해 통합 테스트를 함께 추가했습니다.
  예를 들어 Notepad는 읽음 처리 후 목록에서 readCount 반영을 검증했고,
  Auth refresh는 성공/실패 케이스를 모두 테스트했습니다.

## Q10. "다음 단계에서 뭘 하면 더 설득력 있어지나요?"

- 실수하기 쉬운 답변:
  더 최적화해보겠습니다.
- 좋은 답변:
  다음은 세 가지입니다.
  1) k6로 동시성 부하 테스트를 추가해 p95/p99를 확보
  2) 대시보드 캐시 TTL 실험으로 정합성/성능 균형 검증
  3) MySQL slow query log와 EXPLAIN을 정기 리포트로 문서화
