# Soft Delete + Flyway 성능/운영 최적화

## 문제
- 실수로 삭제한 데이터 복구가 어렵고, 운영 감사 추적이 힘들다.
- 스키마 변경이 코드와 분리되어 적용 순서가 불명확하다.

## 개선
- Soft delete(`deletedAt`)로 논리 삭제를 기본 정책으로 채택.
- Flyway로 마이그레이션을 버전 관리해 배포 안정성을 확보.

## 효과(정성)
- 삭제 실수 복구 가능성이 높아지고 데이터 감사가 쉬워짐.
- 마이그레이션 단계가 명확해져 운영 리스크 감소.

## 선택 이유
- Soft delete는 사용자/운영 안전성 관점에서 필수.
- Flyway는 Spring Boot와 잘 통합되고, 배포 자동화에 유리.

## 예상 질문/답변
1) Q: Soft delete가 성능에 불리하지 않나요?
   A: 필터 조건이 늘지만 인덱스로 완화 가능하며, 복구/감사 이점이 큽니다.
2) Q: 실제 삭제는 언제 하나요?
   A: 필요 시 배치 작업으로 오래된 데이터를 정리합니다.
3) Q: Flyway를 선택한 이유는?
   A: 스키마 변경을 코드와 함께 버전화하여 안정성을 높입니다.
4) Q: 마이그레이션 실패 시 대응은?
   A: 버전 롤백과 재적용 전략을 문서화하고 있습니다.
5) Q: 삭제 정책을 일관되게 적용하나요?
   A: 도메인별로 deletedAt 필드를 유지하고 조회 시 필터링합니다.
